dist: trusty
sudo: required
language: go

go: 1.8

cache:
  yarn: true

git:
  depth: 2

before_install:
  # clone a real copy of the repo because Travis only clones one branch
  # - git clone --depth 10 --no-single-branch https://github.com/$TRAVIS_REPO_SLUG.git $TRAVIS_REPO_SLUG
  # - cd $TRAVIS_REPO_SLUG
  # - git checkout $TRAVIS_COMMIT
  - sudo add-apt-repository -y ppa:masterminds/glide && sudo apt-get update
  - sudo apt-get install glide
  - curl --output morula --location --fail https://github.com/Originate/morula/releases/download/0.1.1/morula-linux-amd64 && chmod +x morula
  - nvm install 6 && nvm alias default 6
  - npm install -g yarn

install: bin/setup_ci

script: bin/spec_ci

notifications:
  email: false
