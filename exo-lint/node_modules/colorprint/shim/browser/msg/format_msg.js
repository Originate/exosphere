/**
 * Format message.
 * @memberof module:colorprint/lib
 * @function formatMsg
 * @param {...string} msg - Messages to format.
 * @returns {string}  - Formatted message.
 */

"use strict";

/** @lends formatMsg */

var _stringify = require('babel-runtime/core-js/json/stringify');

var _stringify2 = _interopRequireDefault(_stringify);

var _typeof2 = require('babel-runtime/helpers/typeof');

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function formatMsg(msg) {
  var s = this;
  msg = Array.prototype.slice.call(arguments, 0).map(function (msg) {
    if ((typeof msg === 'undefined' ? 'undefined' : (0, _typeof3.default)(msg)) === 'object') {
      try {
        return (0, _stringify2.default)(msg, null, 2);
      } catch (e) {
        // Do nothing.
      }
    }
    return msg;
  }).filter(function (msg) {
    return !!msg;
  }).map(function (msg) {
    return String(msg);
  });
  if (!msg.length) {
    return '';
  }
  var formatted = msg.shift().replace(/%(.)/g, function ($0, $1) {
    switch ($1) {
      case 's':
        return String(msg.shift());
      case 'd':
        return parseInt(msg.shift());
      case 'f':
        return parseFloat(msg.shift());
      default:
        return $0;
    }
  });
  return [formatted].concat(msg).join(' ');
}

module.exports = formatMsg;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm1hdF9tc2cuanMiXSwibmFtZXMiOlsiZm9ybWF0TXNnIiwibXNnIiwicyIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwiYXJndW1lbnRzIiwibWFwIiwiZSIsImZpbHRlciIsIlN0cmluZyIsImxlbmd0aCIsImZvcm1hdHRlZCIsInNoaWZ0IiwicmVwbGFjZSIsIiQwIiwiJDEiLCJwYXJzZUludCIsInBhcnNlRmxvYXQiLCJjb25jYXQiLCJqb2luIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7O0FBUUE7O0FBRUE7Ozs7Ozs7Ozs7OztBQUNBLFNBQVNBLFNBQVQsQ0FBb0JDLEdBQXBCLEVBQXlCO0FBQ3ZCLE1BQU1DLElBQUksSUFBVjtBQUNBRCxRQUFNRSxNQUFNQyxTQUFOLENBQWdCQyxLQUFoQixDQUFzQkMsSUFBdEIsQ0FBMkJDLFNBQTNCLEVBQXNDLENBQXRDLEVBQXlDQyxHQUF6QyxDQUE2QyxlQUFPO0FBQ3hELFFBQUksUUFBT1AsR0FBUCx1REFBT0EsR0FBUCxPQUFnQixRQUFwQixFQUE4QjtBQUM1QixVQUFJO0FBQ0YsZUFBTyx5QkFBZUEsR0FBZixFQUFvQixJQUFwQixFQUEwQixDQUExQixDQUFQO0FBQ0QsT0FGRCxDQUVFLE9BQU9RLENBQVAsRUFBVTtBQUNWO0FBQ0Q7QUFDRjtBQUNELFdBQU9SLEdBQVA7QUFDRCxHQVRLLEVBVUhTLE1BVkcsQ0FVSTtBQUFBLFdBQU8sQ0FBQyxDQUFDVCxHQUFUO0FBQUEsR0FWSixFQVdITyxHQVhHLENBV0M7QUFBQSxXQUFPRyxPQUFPVixHQUFQLENBQVA7QUFBQSxHQVhELENBQU47QUFZQSxNQUFJLENBQUNBLElBQUlXLE1BQVQsRUFBaUI7QUFDZixXQUFPLEVBQVA7QUFDRDtBQUNELE1BQUlDLFlBQVlaLElBQUlhLEtBQUosR0FBWUMsT0FBWixDQUFvQixPQUFwQixFQUE2QixVQUFDQyxFQUFELEVBQUtDLEVBQUwsRUFBWTtBQUN2RCxZQUFRQSxFQUFSO0FBQ0UsV0FBSyxHQUFMO0FBQ0UsZUFBT04sT0FBT1YsSUFBSWEsS0FBSixFQUFQLENBQVA7QUFDRixXQUFLLEdBQUw7QUFDRSxlQUFPSSxTQUFTakIsSUFBSWEsS0FBSixFQUFULENBQVA7QUFDRixXQUFLLEdBQUw7QUFDRSxlQUFPSyxXQUFXbEIsSUFBSWEsS0FBSixFQUFYLENBQVA7QUFDRjtBQUNFLGVBQU9FLEVBQVA7QUFSSjtBQVVELEdBWGUsQ0FBaEI7QUFZQSxTQUFPLENBQUVILFNBQUYsRUFBY08sTUFBZCxDQUFxQm5CLEdBQXJCLEVBQTBCb0IsSUFBMUIsQ0FBK0IsR0FBL0IsQ0FBUDtBQUNEOztBQUVEQyxPQUFPQyxPQUFQLEdBQWlCdkIsU0FBakIiLCJmaWxlIjoiZm9ybWF0X21zZy5qcyIsInNvdXJjZVJvb3QiOiJsaWIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEZvcm1hdCBtZXNzYWdlLlxuICogQG1lbWJlcm9mIG1vZHVsZTpjb2xvcnByaW50L2xpYlxuICogQGZ1bmN0aW9uIGZvcm1hdE1zZ1xuICogQHBhcmFtIHsuLi5zdHJpbmd9IG1zZyAtIE1lc3NhZ2VzIHRvIGZvcm1hdC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9ICAtIEZvcm1hdHRlZCBtZXNzYWdlLlxuICovXG5cblwidXNlIHN0cmljdFwiXG5cbi8qKiBAbGVuZHMgZm9ybWF0TXNnICovXG5mdW5jdGlvbiBmb3JtYXRNc2cgKG1zZykge1xuICBjb25zdCBzID0gdGhpc1xuICBtc2cgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApLm1hcChtc2cgPT4ge1xuICAgIGlmICh0eXBlb2YobXNnKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShtc2csIG51bGwsIDIpXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIERvIG5vdGhpbmcuXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtc2dcbiAgfSlcbiAgICAuZmlsdGVyKG1zZyA9PiAhIW1zZylcbiAgICAubWFwKG1zZyA9PiBTdHJpbmcobXNnKSlcbiAgaWYgKCFtc2cubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cbiAgbGV0IGZvcm1hdHRlZCA9IG1zZy5zaGlmdCgpLnJlcGxhY2UoLyUoLikvZywgKCQwLCAkMSkgPT4ge1xuICAgIHN3aXRjaCAoJDEpIHtcbiAgICAgIGNhc2UgJ3MnOlxuICAgICAgICByZXR1cm4gU3RyaW5nKG1zZy5zaGlmdCgpKVxuICAgICAgY2FzZSAnZCc6XG4gICAgICAgIHJldHVybiBwYXJzZUludChtc2cuc2hpZnQoKSlcbiAgICAgIGNhc2UgJ2YnOlxuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChtc2cuc2hpZnQoKSlcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAkMFxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIFsgZm9ybWF0dGVkIF0uY29uY2F0KG1zZykuam9pbignICcpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gZm9ybWF0TXNnXG4iXX0=