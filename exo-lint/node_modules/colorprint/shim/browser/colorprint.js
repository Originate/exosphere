/**
 * Colorpint context.
 * @memberof module:colorprint/lib
 * @inner
 * @constructor Colorprint
 * @param {object} config - Context configuration.
 */

'use strict';

var _assign = require('babel-runtime/core-js/object/assign');

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var formatMsg = require('./msg/format_msg');
var decorateMsg = require('./msg/decorate_msg');
var indentMsg = require('./msg/indent_msg');

/** @lends module:colorprint/lib~Colorprint */
function Colorprint() {
  var s = this;
  s.init.apply(s, arguments);
}

Colorprint.prototype = {
  disabled: false,
  prepareMsg: function prepareMsg() {
    var s = this;
    var msg = formatMsg.apply(formatMsg, arguments);
    return [s.PREFIX, indentMsg(msg, s.indent), s.SUFFIX].join('');
  },
  writeToStdout: function writeToStdout(msg, color) {
    var s = this;
    if (s.disabled) {
      return;
    }
    console.log(decorateMsg(msg, color));
  },
  writeToStderr: function writeToStderr(msg, color) {
    console.error(decorateMsg(msg, color));
  },

  /** Color for point print. */
  POINT_COLOR: 'blue',
  /** Color for notice print. */
  NOTICE_COLOR: 'magenta',
  /** Color for info print. */
  INFO_COLOR: 'green',
  /** Color for debug print. */
  DEBUG_COLOR: '',
  /** Color for trace print. */
  TRACE_COLOR: 'white',
  /** Color for warn print. */
  WARN_COLOR: 'yellow',
  /** Color for error print. */
  ERROR_COLOR: 'red',
  /** Color for fatal print. */
  FATAL_COLOR: 'bgRed',
  /** Alias for module:colorprint/lib~Colorprint#point. */
  POINT: function POINT() {
    var s = this;
    s.point.apply(s, arguments);
  },

  /** Alias for module:colorprint/lib~Colorprint#notice. */
  NOTICE: function NOTICE() {
    var s = this;
    s.notice.apply(s, arguments);
  },

  /** Alias for module:colorprint/lib~Colorprint#info. */
  INFO: function INFO() {
    var s = this;
    s.info.apply(s, arguments);
  },

  /** Alias for module:colorprint/lib~Colorprint#debug. */
  DEBUG: function DEBUG() {
    var s = this;
    s.debug.apply(s, arguments);
  },

  /** Alias for module:colorprint/lib~Colorprint#trace. */
  TRACE: function TRACE() {
    var s = this;
    s.trace.apply(s, arguments);
  },

  /** Alias for module:colorprint/lib~Colorprint#warn. */
  WARN: function WARN() {
    var s = this;
    s.warn.apply(s, arguments);
  },

  /** Alias for module:colorprint/lib~Colorprint#error. */
  ERROR: function ERROR() {
    var s = this;
    s.error.apply(s, arguments);
  },

  /** Alias for module:colorprint/lib~Colorprint#fatal. */
  FATAL: function FATAL() {
    var s = this;
    s.fatal.apply(s, arguments);
  },

  /** @constructs module:colorprint/lib~Colorprint */
  init: function init() {
    var config = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

    var s = this;
    (0, _assign2.default)(s, config);
    s.PREFIX = config.prefix || s.PREFIX;
    s.SUFFIX = config.suffix || s.SUFFIX;
  },

  /** Number of indent */
  indent: 0,
  /** Message prefix */
  PREFIX: '',
  /** Message suffix */
  SUFFIX: '',
  /**
   * Print point message.
   * @param {...string} msg - Message to print.
   */
  point: function point(msg) {
    var s = this;
    s.writeToStdout(s.prepareMsg.apply(s, arguments), s.POINT_COLOR);
  },

  /**
   * Print notice message.
   * @param {...string} msg - Message to print.
   */
  notice: function notice(msg) {
    var s = this;
    s.writeToStdout(s.prepareMsg.apply(s, arguments), s.NOTICE_COLOR);
  },

  /**
   * Print info message.
   * @param {...string} msg - Message to print.
   */
  info: function info(msg) {
    var s = this;
    s.writeToStdout(s.prepareMsg.apply(s, arguments), s.INFO_COLOR);
  },

  /**
   * Print debug message.
   * @param {...string} msg - Message to print.
   */
  debug: function debug(msg) {
    var s = this;
    s.writeToStdout(s.prepareMsg.apply(s, arguments), s.DEBUG_COLOR);
  },

  /**
   * Print trace message.
   * @param {...string} msg - Message to print.
   */
  trace: function trace(msg) {
    var s = this;
    s.writeToStdout(s.prepareMsg.apply(s, arguments), s.TRACE_COLOR);
  },

  /**
   * Print warn message.
   * @param {...string} msg - Message to print.
   */
  warn: function warn(msg) {
    var s = this;
    s.writeToStdout(s.prepareMsg.apply(s, arguments), s.WARN_COLOR);
  },

  /**
   * Print error message.
   * @param {...string} msg - Message to print.
   */
  error: function error(msg) {
    var s = this;
    s.writeToStderr(s.prepareMsg.apply(s, arguments), s.ERROR_COLOR);
  },

  /**
   * Print fatal message.
   * @param {...string} msg - Message to print.
   */
  fatal: function fatal(msg) {
    var s = this;
    s.writeToStderr(s.prepareMsg.apply(s, arguments), s.FATAL_COLOR);
  }
};

module.exports = Colorprint;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbG9ycHJpbnQuanMiXSwibmFtZXMiOlsiZm9ybWF0TXNnIiwicmVxdWlyZSIsImRlY29yYXRlTXNnIiwiaW5kZW50TXNnIiwiQ29sb3JwcmludCIsInMiLCJpbml0IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJwcm90b3R5cGUiLCJkaXNhYmxlZCIsInByZXBhcmVNc2ciLCJtc2ciLCJQUkVGSVgiLCJpbmRlbnQiLCJTVUZGSVgiLCJqb2luIiwid3JpdGVUb1N0ZG91dCIsImNvbG9yIiwiY29uc29sZSIsImxvZyIsIndyaXRlVG9TdGRlcnIiLCJlcnJvciIsIlBPSU5UX0NPTE9SIiwiTk9USUNFX0NPTE9SIiwiSU5GT19DT0xPUiIsIkRFQlVHX0NPTE9SIiwiVFJBQ0VfQ09MT1IiLCJXQVJOX0NPTE9SIiwiRVJST1JfQ09MT1IiLCJGQVRBTF9DT0xPUiIsIlBPSU5UIiwicG9pbnQiLCJOT1RJQ0UiLCJub3RpY2UiLCJJTkZPIiwiaW5mbyIsIkRFQlVHIiwiZGVidWciLCJUUkFDRSIsInRyYWNlIiwiV0FSTiIsIndhcm4iLCJFUlJPUiIsIkZBVEFMIiwiZmF0YWwiLCJjb25maWciLCJwcmVmaXgiLCJzdWZmaXgiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7QUFRQTs7Ozs7Ozs7QUFFQSxJQUFNQSxZQUFZQyxRQUFRLGtCQUFSLENBQWxCO0FBQ0EsSUFBTUMsY0FBY0QsUUFBUSxvQkFBUixDQUFwQjtBQUNBLElBQU1FLFlBQVlGLFFBQVEsa0JBQVIsQ0FBbEI7O0FBRUE7QUFDQSxTQUFTRyxVQUFULEdBQXVCO0FBQ3JCLE1BQU1DLElBQUksSUFBVjtBQUNBQSxJQUFFQyxJQUFGLENBQU9DLEtBQVAsQ0FBYUYsQ0FBYixFQUFnQkcsU0FBaEI7QUFDRDs7QUFFREosV0FBV0ssU0FBWCxHQUF1QjtBQUNyQkMsWUFBVSxLQURXO0FBRXJCQyxZQUZxQix3QkFFUDtBQUNaLFFBQU1OLElBQUksSUFBVjtBQUNBLFFBQUlPLE1BQU1a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QUFuQixFQUFzQkcsU0FBdEIsQ0FBaEIsRUFBa0RILEVBQUVzQixXQUFwRDtBQUNELEdBN0hvQjs7QUE4SHJCOzs7O0FBSUFlLE1BbElxQixnQkFrSWY5QixHQWxJZSxFQWtJVjtBQUNULFFBQU1QLElBQUksSUFBVjtBQUNBQSxNQUFFWSxhQUFGLENBQWdCWixFQUFFTSxVQUFGLENBQWFKLEtBQWIsQ0FBbUJGLENBQW5CLEVBQXNCRyxTQUF0QixDQUFoQixFQUFrREgsRUFBRXVCLFVBQXBEO0FBQ0QsR0FySW9COztBQXNJckI7Ozs7QUFJQU4sT0ExSXFCLGlCQTBJZFYsR0ExSWMsRUEwSVQ7QUFDVixRQUFNUCxJQUFJLElBQVY7QUFDQUEsTUFBRWdCLGFBQUYsQ0FBZ0JoQixFQUFFTSxVQUFGLENBQWFKLEtBQWIsQ0FBbUJGLENBQW5CLEVBQXNCRyxTQUF0QixDQUFoQixFQUFrREgsRUFBRXdCLFdBQXBEO0FBQ0QsR0E3SW9COztBQThJckI7Ozs7QUFJQWdCLE9BbEpxQixpQkFrSmRqQyxHQWxKYyxFQWtKVDtBQUNWLFFBQU1QLElBQUksSUFBVjtBQUNBQSxNQUFFZ0IsYUFBRixDQUFnQmhCLEVBQUVNLFVBQUYsQ0FBYUosS0FBYixDQUFtQkYsQ0FBbkIsRUFBc0JHLFNBQXRCLENBQWhCLEVBQWtESCxFQUFFeUIsV0FBcEQ7QUFDRDtBQXJKb0IsQ0FBdkI7O0FBd0pBbUIsT0FBT0MsT0FBUCxHQUFpQjlDLFVBQWpCIiwiZmlsZSI6ImNvbG9ycHJpbnQuanMiLCJzb3VyY2VSb290IjoibGliIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb2xvcnBpbnQgY29udGV4dC5cbiAqIEBtZW1iZXJvZiBtb2R1bGU6Y29sb3JwcmludC9saWJcbiAqIEBpbm5lclxuICogQGNvbnN0cnVjdG9yIENvbG9ycHJpbnRcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgLSBDb250ZXh0IGNvbmZpZ3VyYXRpb24uXG4gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGZvcm1hdE1zZyA9IHJlcXVpcmUoJy4vbXNnL2Zvcm1hdF9tc2cnKVxuY29uc3QgZGVjb3JhdGVNc2cgPSByZXF1aXJlKCcuL21zZy9kZWNvcmF0ZV9tc2cnKVxuY29uc3QgaW5kZW50TXNnID0gcmVxdWlyZSgnLi9tc2cvaW5kZW50X21zZycpXG5cbi8qKiBAbGVuZHMgbW9kdWxlOmNvbG9ycHJpbnQvbGlifkNvbG9ycHJpbnQgKi9cbmZ1bmN0aW9uIENvbG9ycHJpbnQgKCkge1xuICBjb25zdCBzID0gdGhpc1xuICBzLmluaXQuYXBwbHkocywgYXJndW1lbnRzKVxufVxuXG5Db2xvcnByaW50LnByb3RvdHlwZSA9IHtcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuICBwcmVwYXJlTXNnICgpIHtcbiAgICBjb25zdCBzID0gdGhpc1xuICAgIGxldCBtc2cgPSBmb3JtYXRNc2cuYXBwbHkoZm9ybWF0TXNnLCBhcmd1bWVudHMpXG4gICAgcmV0dXJuIFtzLlBSRUZJWCwgaW5kZW50TXNnKG1zZywgcy5pbmRlbnQpLCBzLlNVRkZJWF0uam9pbignJylcbiAgfSxcbiAgd3JpdGVUb1N0ZG91dCAobXNnLCBjb2xvcikge1xuICAgIGNvbnN0IHMgPSB0aGlzXG4gICAgaWYgKHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhkZWNvcmF0ZU1zZyhtc2csIGNvbG9yKSlcbiAgfSxcbiAgd3JpdGVUb1N0ZGVyciAobXNnLCBjb2xvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZGVjb3JhdGVNc2cobXNnLCBjb2xvcikpXG4gIH0sXG4gIC8qKiBDb2xvciBmb3IgcG9pbnQgcHJpbnQuICovXG4gIFBPSU5UX0NPTE9SOiAnYmx1ZScsXG4gIC8qKiBDb2xvciBmb3Igbm90aWNlIHByaW50LiAqL1xuICBOT1RJQ0VfQ09MT1I6ICdtYWdlbnRhJyxcbiAgLyoqIENvbG9yIGZvciBpbmZvIHByaW50LiAqL1xuICBJTkZPX0NPTE9SOiAnZ3JlZW4nLFxuICAvKiogQ29sb3IgZm9yIGRlYnVnIHByaW50LiAqL1xuICBERUJVR19DT0xPUjogJycsXG4gIC8qKiBDb2xvciBmb3IgdHJhY2UgcHJpbnQuICovXG4gIFRSQUNFX0NPTE9SOiAnd2hpdGUnLFxuICAvKiogQ29sb3IgZm9yIHdhcm4gcHJpbnQuICovXG4gIFdBUk5fQ09MT1I6ICd5ZWxsb3cnLFxuICAvKiogQ29sb3IgZm9yIGVycm9yIHByaW50LiAqL1xuICBFUlJPUl9DT0xPUjogJ3JlZCcsXG4gIC8qKiBDb2xvciBmb3IgZmF0YWwgcHJpbnQuICovXG4gIEZBVEFMX0NPTE9SOiAnYmdSZWQnLFxuICAvKiogQWxpYXMgZm9yIG1vZHVsZTpjb2xvcnByaW50L2xpYn5Db2xvcnByaW50I3BvaW50LiAqL1xuICBQT0lOVCAoKSB7XG4gICAgY29uc3QgcyA9IHRoaXNcbiAgICBzLnBvaW50LmFwcGx5KHMsIGFyZ3VtZW50cylcbiAgfSxcbiAgLyoqIEFsaWFzIGZvciBtb2R1bGU6Y29sb3JwcmludC9saWJ+Q29sb3JwcmludCNub3RpY2UuICovXG4gIE5PVElDRSAoKSB7XG4gICAgY29uc3QgcyA9IHRoaXNcbiAgICBzLm5vdGljZS5hcHBseShzLCBhcmd1bWVudHMpXG4gIH0sXG4gIC8qKiBBbGlhcyBmb3IgbW9kdWxlOmNvbG9ycHJpbnQvbGlifkNvbG9ycHJpbnQjaW5mby4gKi9cbiAgSU5GTyAoKSB7XG4gICAgY29uc3QgcyA9IHRoaXNcbiAgICBzLmluZm8uYXBwbHkocywgYXJndW1lbnRzKVxuICB9LFxuICAvKiogQWxpYXMgZm9yIG1vZHVsZTpjb2xvcnByaW50L2xpYn5Db2xvcnByaW50I2RlYnVnLiAqL1xuICBERUJVRyAoKSB7XG4gICAgY29uc3QgcyA9IHRoaXNcbiAgICBzLmRlYnVnLmFwcGx5KHMsIGFyZ3VtZW50cylcbiAgfSxcbiAgLyoqIEFsaWFzIGZvciBtb2R1bGU6Y29sb3JwcmludC9saWJ+Q29sb3JwcmludCN0cmFjZS4gKi9cbiAgVFJBQ0UgKCkge1xuICAgIGNvbnN0IHMgPSB0aGlzXG4gICAgcy50cmFjZS5hcHBseShzLCBhcmd1bWVudHMpXG4gIH0sXG4gIC8qKiBBbGlhcyBmb3IgbW9kdWxlOmNvbG9ycHJpbnQvbGlifkNvbG9ycHJpbnQjd2Fybi4gKi9cbiAgV0FSTiAoKSB7XG4gICAgY29uc3QgcyA9IHRoaXNcbiAgICBzLndhcm4uYXBwbHkocywgYXJndW1lbnRzKVxuICB9LFxuICAvKiogQWxpYXMgZm9yIG1vZHVsZTpjb2xvcnByaW50L2xpYn5Db2xvcnByaW50I2Vycm9yLiAqL1xuICBFUlJPUiAoKSB7XG4gICAgY29uc3QgcyA9IHRoaXNcbiAgICBzLmVycm9yLmFwcGx5KHMsIGFyZ3VtZW50cylcbiAgfSxcbiAgLyoqIEFsaWFzIGZvciBtb2R1bGU6Y29sb3JwcmludC9saWJ+Q29sb3JwcmludCNmYXRhbC4gKi9cbiAgRkFUQUwgKCkge1xuICAgIGNvbnN0IHMgPSB0aGlzXG4gICAgcy5mYXRhbC5hcHBseShzLCBhcmd1bWVudHMpXG4gIH0sXG4gIC8qKiBAY29uc3RydWN0cyBtb2R1bGU6Y29sb3JwcmludC9saWJ+Q29sb3JwcmludCAqL1xuICBpbml0IChjb25maWcgPSB7fSkge1xuICAgIGNvbnN0IHMgPSB0aGlzXG4gICAgT2JqZWN0LmFzc2lnbihzLCBjb25maWcpXG4gICAgcy5QUkVGSVggPSBjb25maWcucHJlZml4IHx8IHMuUFJFRklYXG4gICAgcy5TVUZGSVggPSBjb25maWcuc3VmZml4IHx8IHMuU1VGRklYXG4gIH0sXG4gIC8qKiBOdW1iZXIgb2YgaW5kZW50ICovXG4gIGluZGVudDogMCxcbiAgLyoqIE1lc3NhZ2UgcHJlZml4ICovXG4gIFBSRUZJWDogJycsXG4gIC8qKiBNZXNzYWdlIHN1ZmZpeCAqL1xuICBTVUZGSVg6ICcnLFxuICAvKipcbiAgICogUHJpbnQgcG9pbnQgbWVzc2FnZS5cbiAgICogQHBhcmFtIHsuLi5zdHJpbmd9IG1zZyAtIE1lc3NhZ2UgdG8gcHJpbnQuXG4gICAqL1xuICBwb2ludCAobXNnKSB7XG4gICAgY29uc3QgcyA9IHRoaXNcbiAgICBzLndyaXRlVG9TdGRvdXQocy5wcmVwYXJlTXNnLmFwcGx5KHMsIGFyZ3VtZW50cyksIHMuUE9JTlRfQ09MT1IpXG4gIH0sXG4gIC8qKlxuICAgKiBQcmludCBub3RpY2UgbWVzc2FnZS5cbiAgICogQHBhcmFtIHsuLi5zdHJpbmd9IG1zZyAtIE1lc3NhZ2UgdG8gcHJpbnQuXG4gICAqL1xuICBub3RpY2UgKG1zZykge1xuICAgIGNvbnN0IHMgPSB0aGlzXG4gICAgcy53cml0ZVRvU3Rkb3V0KHMucHJlcGFyZU1zZy5hcHBseShzLCBhcmd1bWVudHMpLCBzLk5PVElDRV9DT0xPUilcbiAgfSxcbiAgLyoqXG4gICAqIFByaW50IGluZm8gbWVzc2FnZS5cbiAgICogQHBhcmFtIHsuLi5zdHJpbmd9IG1zZyAtIE1lc3NhZ2UgdG8gcHJpbnQuXG4gICAqL1xuICBpbmZvIChtc2cpIHtcbiAgICBjb25zdCBzID0gdGhpc1xuICAgIHMud3JpdGVUb1N0ZG91dChzLnByZXBhcmVNc2cuYXBwbHkocywgYXJndW1lbnRzKSwgcy5JTkZPX0NPTE9SKVxuICB9LFxuICAvKipcbiAgICogUHJpbnQgZGVidWcgbWVzc2FnZS5cbiAgICogQHBhcmFtIHsuLi5zdHJpbmd9IG1zZyAtIE1lc3NhZ2UgdG8gcHJpbnQuXG4gICAqL1xuICBkZWJ1ZyAobXNnKSB7XG4gICAgY29uc3QgcyA9IHRoaXNcbiAgICBzLndyaXRlVG9TdGRvdXQocy5wcmVwYXJlTXNnLmFwcGx5KHMsIGFyZ3VtZW50cyksIHMuREVCVUdfQ09MT1IpXG4gIH0sXG4gIC8qKlxuICAgKiBQcmludCB0cmFjZSBtZXNzYWdlLlxuICAgKiBAcGFyYW0gey4uLnN0cmluZ30gbXNnIC0gTWVzc2FnZSB0byBwcmludC5cbiAgICovXG4gIHRyYWNlIChtc2cpIHtcbiAgICBjb25zdCBzID0gdGhpc1xuICAgIHMud3JpdGVUb1N0ZG91dChzLnByZXBhcmVNc2cuYXBwbHkocywgYXJndW1lbnRzKSwgcy5UUkFDRV9DT0xPUilcbiAgfSxcbiAgLyoqXG4gICAqIFByaW50IHdhcm4gbWVzc2FnZS5cbiAgICogQHBhcmFtIHsuLi5zdHJpbmd9IG1zZyAtIE1lc3NhZ2UgdG8gcHJpbnQuXG4gICAqL1xuICB3YXJuIChtc2cpIHtcbiAgICBjb25zdCBzID0gdGhpc1xuICAgIHMud3JpdGVUb1N0ZG91dChzLnByZXBhcmVNc2cuYXBwbHkocywgYXJndW1lbnRzKSwgcy5XQVJOX0NPTE9SKVxuICB9LFxuICAvKipcbiAgICogUHJpbnQgZXJyb3IgbWVzc2FnZS5cbiAgICogQHBhcmFtIHsuLi5zdHJpbmd9IG1zZyAtIE1lc3NhZ2UgdG8gcHJpbnQuXG4gICAqL1xuICBlcnJvciAobXNnKSB7XG4gICAgY29uc3QgcyA9IHRoaXNcbiAgICBzLndyaXRlVG9TdGRlcnIocy5wcmVwYXJlTXNnLmFwcGx5KHMsIGFyZ3VtZW50cyksIHMuRVJST1JfQ09MT1IpXG4gIH0sXG4gIC8qKlxuICAgKiBQcmludCBmYXRhbCBtZXNzYWdlLlxuICAgKiBAcGFyYW0gey4uLnN0cmluZ30gbXNnIC0gTWVzc2FnZSB0byBwcmludC5cbiAgICovXG4gIGZhdGFsIChtc2cpIHtcbiAgICBjb25zdCBzID0gdGhpc1xuICAgIHMud3JpdGVUb1N0ZGVycihzLnByZXBhcmVNc2cuYXBwbHkocywgYXJndW1lbnRzKSwgcy5GQVRBTF9DT0xPUilcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbG9ycHJpbnRcbiJdfQ==