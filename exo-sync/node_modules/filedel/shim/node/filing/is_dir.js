/**
 * @function isDir
 * @returns {Promise}
 */

'use strict';

var _regenerator = require('babel-runtime/regenerator');

var _regenerator2 = _interopRequireDefault(_regenerator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _require = require('asfs');

var existsAsync = _require.existsAsync;
var statAsync = _require.statAsync;

var co = require('co');

/** @lends isDir */
function isDir(filename) {
  return co(_regenerator2.default.mark(function _callee() {
    var exists, stats;
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return existsAsync(filename);

          case 2:
            exists = _context.sent;

            if (exists) {
              _context.next = 5;
              break;
            }

            return _context.abrupt('return');

          case 5:
            _context.prev = 5;
            _context.next = 8;
            return statAsync(filename);

          case 8:
            stats = _context.sent;
            return _context.abrupt('return', stats.isDirectory());

          case 12:
            _context.prev = 12;
            _context.t0 = _context['catch'](5);

          case 14:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, this, [[5, 12]]);
  }));
}

module.exports = isDir;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlzX2Rpci5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiZXhpc3RzQXN5bmMiLCJzdGF0QXN5bmMiLCJjbyIsImlzRGlyIiwiZmlsZW5hbWUiLCJleGlzdHMiLCJzdGF0cyIsImlzRGlyZWN0b3J5IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0FBS0E7Ozs7Ozs7O2VBRW1DQSxRQUFRLE1BQVIsQzs7SUFBM0JDLFcsWUFBQUEsVztJQUFhQyxTLFlBQUFBLFM7O0FBQ3JCLElBQU1DLEtBQUtILFFBQVEsSUFBUixDQUFYOztBQUVBO0FBQ0EsU0FBU0ksS0FBVCxDQUFnQkMsUUFBaEIsRUFBMEI7QUFDeEIsU0FBT0YsOEJBQUc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxtQkFDV0YsWUFBWUksUUFBWixDQURYOztBQUFBO0FBQ0pDLGtCQURJOztBQUFBLGdCQUVIQSxNQUZHO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBLG1CQU1ZSixVQUFVRyxRQUFWLENBTlo7O0FBQUE7QUFNRkUsaUJBTkU7QUFBQSw2Q0FPQ0EsTUFBTUMsV0FBTixFQVBEOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxHQUFILEVBQVA7QUFZRDs7QUFFREMsT0FBT0MsT0FBUCxHQUFpQk4sS0FBakIiLCJmaWxlIjoiaXNfZGlyLmpzIiwic291cmNlUm9vdCI6ImxpYiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZ1bmN0aW9uIGlzRGlyXG4gKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAqL1xuXG4ndXNlIHN0cmljdCdcblxuY29uc3QgeyBleGlzdHNBc3luYywgc3RhdEFzeW5jIH0gPSByZXF1aXJlKCdhc2ZzJylcbmNvbnN0IGNvID0gcmVxdWlyZSgnY28nKVxuXG4vKiogQGxlbmRzIGlzRGlyICovXG5mdW5jdGlvbiBpc0RpciAoZmlsZW5hbWUpIHtcbiAgcmV0dXJuIGNvKGZ1bmN0aW9uICogKCkge1xuICAgIGxldCBleGlzdHMgPSB5aWVsZCBleGlzdHNBc3luYyhmaWxlbmFtZSlcbiAgICBpZiAoIWV4aXN0cykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBsZXQgc3RhdHMgPSB5aWVsZCBzdGF0QXN5bmMoZmlsZW5hbWUpXG4gICAgICByZXR1cm4gc3RhdHMuaXNEaXJlY3RvcnkoKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElnbm9yZSBlcnJvci5cbiAgICB9XG4gIH0pXG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNEaXJcbiJdfQ==